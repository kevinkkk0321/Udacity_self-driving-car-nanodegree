# CarND-Path-Planning-Project
Self-Driving Car Engineer Nanodegree Program
   
## Introduction
The goal of this project is to build a path planner that creates smooth, safe trajectories for the car to follow. The highway track has other vehicles, all going different speeds, but approximately obeying the 50 MPH speed limit. The car transmits its location, along with its sensor fusion data, which estimates the location of all the vehicles on the same side of the road.

[image1]: ./lane.png "center"

## Rubric Points
Each of the rubric points given in project specifications are discussed below.

#### Compilation
The code compiles without any errors.

#### Valid Trajectories
* The car is able to drive at least 4.32 miles without incident.
* The car drives according to the speed limit.
* Max Acceleration and Jerk are not Exceeded.
* Car does not have collisions.
* The car stays in its lane, except for the time between changing lanes.
* The car is able to change lanes.

## Project lane changing screenshot image
![alt text][image1]


#### Reflection
The trajectory generation in this project has been performed by:
* Analysing other vehicles (a.k.a targets) on the highway around (front, left, right) ego vehicle (lines 288 - 336).

* Planning appropriate safe behavior (keep lane, lane change left or lane change right; lines 338 - 375).

* Generating waypoints and fitting a spline through those waypoints for a jerk free and smooth trajectory. Waypoints and curve fitting is discussed in detail below.

### Waypoints 

* Waypoints (0, 1): These are generated from previous path trajectory to ensure continuity. In case there aren't enough points, waypoints are generated by using car position (waypoint: 1) and creating a point tangent to car yaw at unit distance behind the car.

* Waypoints (2, 3, 5): These are generated by looking 30m, 60m and 90m ahead of current car s frenet coordinate in the given "lane". 

### Curve Fitting
An open source spline library (reference: https://github.com/ttk592/spline/) is used for fitting a smooth and jerk free curve through the generated waypoints. Before fitting a curve however, the waypoints are transformed into car's frame of reference to avoid singularities and other numerical problems.

The fitted curve is then used to generate equally spaced points (depending upon the commanded  reference velocity for current cycle) in car's frame of reference. Finally, these points are pushed on to vector of x/y values before transforming them back into inertial frame of reference .

Note:
* Before points from spline are pushed, previous path points are pushed to ensure continuity (lines 461 - 465).
* Speed is regulated cycle to cycle.
